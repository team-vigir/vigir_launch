<?xml version="1.0"?>

<launch>

    <!-- Make depend on FLOR_HAND_TYPE -->
    <rosparam file="$(find flor_grasp_controllers)/launch/$(env FLOR_LEFT_HAND_TYPE)_tf.yaml" ns="l_hand_tf"/>
    <rosparam file="$(find flor_grasp_controllers)/launch/$(env FLOR_RIGHT_HAND_TYPE)_tf.yaml" ns="r_hand_tf"/>

    <param name="l_hand_type" value="$(env FLOR_LEFT_HAND_TYPE)" />
    <param name="r_hand_type" value="$(env FLOR_RIGHT_HAND_TYPE)" />

    <!-- Start the Auxiliary OCS -->
    <node name="$(anon vigir_ocs_template_manager)"     pkg="vigir_ocs_template_manager"     type="template_manager"      /> <!--  output="screen" launch-prefix="xterm -e" / -->
    <node name="$(anon vigir_ocs_waypoint_manager)"     pkg="vigir_ocs_waypoint_manager"     type="waypoint_manager"      /> <!--  output="screen" launch-prefix="xterm -e" / -->
    <node name="$(anon vigir_ocs_ghost_control_widget)" pkg="vigir_ocs_ghost_control_widget" type="ghost_control"         /> <!--  output="screen" launch-prefix="xterm -e" / -->
    
    <node name="$(anon vigir_ocs_back_joint_limit)"     pkg="vigir_ocs_back_joint_limit" 	type="joint_limit"               /> <!--  output="screen" launch-prefix="xterm -e" / -->
    <node name="$(anon vigir_ocs_motion_selector)"      pkg="vigir_ocs_motion_selector" 	type="motion_selector"           /> <!--  output="screen" launch-prefix="xterm -e" / -->
    <!-- Start the OCS -->
    <node name="$(anon vigir_ocs_main_view)"            pkg="vigir_ocs_main_view"            type="main_view"                respawn="true"> <!--  output="screen" launch-prefix="xterm -e gdb -ex r" / -->
      <remap from="/flor/worldmodel/ocs/dist_query_pointcloud_result" to="/flor/worldmodel/ocs/cloud_result" /> 
    </node>
    <node name="$(anon vigir_ocs_map_view)"             pkg="vigir_ocs_map_view"             type="map_view"                 respawn="true"> <!--  output="screen" launch-prefix="xterm -e" / -->
      <remap from="/flor/worldmodel/ocs/dist_query_pointcloud_result" to="/flor/worldmodel/ocs/cloud_result" /> 
    </node>
    <node name="$(anon vigir_ocs_main_camera_view)"     pkg="vigir_ocs_main_camera_view"     type="main_camera_view"         respawn="true"> <!--  output="screen" launch-prefix="xterm -e" / -->
      <remap from="/flor/worldmodel/ocs/dist_query_pointcloud_result" to="/flor/worldmodel/ocs/cloud_result" /> 
    </node>

</launch>
